{% load core_extras %}
{% block content %} 
<style>
    /* Estilos muy básicos para el Kanban */
    .kanban-board { display: flex; gap: 1rem; overflow-x: auto; padding-bottom: 1rem; }
    .kanban-column { min-width: 280px; background-color: #f4f5f7; border-radius: 4px; padding: 0.5rem; }
    .task-card { background-color: #ffffff; border-radius: 3px; box-shadow: 0 1px 0 rgba(9,30,66,.25); padding: 0.75rem; margin-bottom: 0.5rem; }
</style>

<h1>Proyecto: {{ project.name }}</h1>
<hr>

<div class="kanban-board">
    {% for status_value, status_label in status_choices %}
        <div class="kanban-column">
            <h3>{{ status_label }}</h3>
            <hr>
            <div class="tasks-container">
                {% for task in grouped_tasks|get_item:status_value %}
                    <div class="task-card">
                        <strong>{{ task.title }}</strong>
                        <p><small>Límite: {{ task.due_date|default:"N/A" }}</small></p>
                    </div>
                {% empty %}
                    <p><small>No hay tareas en este estado.</small></p>
                {% endfor %}
            </div>
        </div>
    {% endfor %}
</div>
{% endblock %}